переместить все в utils
возможно сигналы и датабазу тоже

там где просто lambda e - сделай функцию с args
базовое окно кнопка закрыть посылает сигнал в окно, и не надо передавтаь функцию в base win